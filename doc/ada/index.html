<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h2>Using with Cardano SL</h2><p>Create an application object after opening the device</p>
<pre class="prettyprint source lang-javascript"><code>var ada = new ledger.ada(comm);

ada.getWalletPublicKeyWithIndex(0xC001CODE)
 .then((response) => {
   console.log(response.publicKey);
 })
 .catch(error => console.log(error));</code></pre><p>See LedgerAda class for full API.</p>
<h2>Companion App</h2><p>This api is compatible with the <a href="https://github.com/HiddenField/ledger-cardano-app">Cardano Ledger App</a>.</p>
<h2>Install and Setup</h2><p>Node 6.11+ required. Suggest using a node version manager.</p>
<pre class="prettyprint source"><code>nvm 6.11.1 --lts
git clone [Project]
npm install</code></pre><h2>Running examples</h2><p>Only production API calls work in the current examples.</p>
<p>Uncomment example and run <code>node examples/node-ada.js</code></p>
<h2>Testing Cardano SL</h2><p>End-to-end tests are provided for both core functionality and the public API.</p>
<h3>Core Tests</h3><p>First, ensure you have a <strong>test</strong> build installed on the device (see ledger app respository for details). Then run:</p>
<pre class="prettyprint source lang-bash"><code>npm run ada-core-test</code></pre><h3>API Tests</h3><p>These tests can be run with or without device interaction (headlessly).</p>
<p>For tests which require user interaction, ensure you have a standard production build on the device, and run:</p>
<pre class="prettyprint source lang-bash"><code>npm run ada-api-test</code></pre><p>For headless tests, ensure you have a <strong>headless</strong> build on the device and run:</p>
<pre class="prettyprint source lang-bash"><code># Note the -- which is required to pass through arguments
npm run ada-api-test -- --headless</code></pre><p>This will suppress any additional prompts, for reduced verbosity.</p>
<h2>Notes for Cardano SL</h2><p>The address derivation method only allows hardened address derivation, i.e. the indexes must be &gt; 0x80000000.
Using indexes lower than 0x80000000 will hang the ledger application.</p>
<h2>Generating JSDocs</h2><p><code>jsdoc -c src/ada/ada.jsdoc.conf.json</code></p>
<h2>Troubleshooting</h2><h3>Running production API</h3><ul>
<li><p><code>An error occurred:  No device found</code> :
Ledger not connected; VM still running (host doesn't have USB); Have not unlocked device</p>
</li>
<li><p><code>6e00</code>:App is not running on Ledger</p>
</li>
<li><code>6d00</code>:API is not present (wrong build on device for intended API)</li>
</ul>
<h3>Running tests</h3><ul>
<li><code>AssertionError: expected 'Invalid status 6e00'</code> : App not running</li>
<li><code>npm ERR! Exit status 10</code> : Device not unlocked; Device not connected; VM still RUNNING</li>
<li><code>'Invalid status 6d00'</code> : You are running the mismatched tests vs build, e.g. running core tests against production build</li>
<li><code>Not all tests passing?</code> : You've broken something; running mismatched tests; not following test instructions, e.g. asked to reject transaction, but you approve.</li>
</ul></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="LedgerAda.html">LedgerAda</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Wed Feb 28 2018 17:50:13 GMT+0000 (GMT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>